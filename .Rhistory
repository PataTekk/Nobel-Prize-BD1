setwd("~/Desktop/INFO201/Nobel-Prize-BD1")
shiny::runApp('~/Desktop/INFO201/ch16-shiny/exercise-1')
setwd("~/Desktop/INFO201/Nobel-Prize-BD1/scripts")
# Load the libraries required
library(dplyr)
library(plotly)
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
extract_age <- function(given_range, given_end) {
new_data <- filter(data, category == given_category &
born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics", given_start, given_end)
chemistry <- extract_age("chemistry", given_start, given_end)
economics <- extract_age("economics", given_start, given_end)
literature <- extract_age("literature", given_start, given_end)
medicine <- extract_age("medicine", given_start, given_end)
peace <- extract_age("peace", given_start, given_end)
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <- read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1902, 1910))
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
extract_age <- function(given_range, given_end) {
new_data <- filter(data, category == given_category &
born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics", given_range)
chemistry <- extract_age("chemistry", given_range)
economics <- extract_age("economics", given_range)
literature <- extract_age("literature", given_range)
medicine <- extract_age("medicine", given_range)
peace <- extract_age("peace", given_range)
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <- read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1902, 1910))
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
extract_age <- function(given_category, given_range) {
new_data <- filter(data, category == given_category &
born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics", given_range)
chemistry <- extract_age("chemistry", given_range)
economics <- extract_age("economics", given_range)
literature <- extract_age("literature", given_range)
medicine <- extract_age("medicine", given_range)
peace <- extract_age("peace", given_range)
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <- read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1902, 1910))
runApp('~/Desktop/INFO201/Nobel-Prize-BD1')
runApp('~/Desktop/INFO201/Nobel-Prize-BD1')
setwd("~/Desktop/INFO201/Nobel-Prize-BD1")
runApp()
runApp()
runApp()
build_boxplot(data, c(1901, 1910))
build_boxplot(data, c(1901, 1980))
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
data_in_range <- filter(data, born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
total_born_year <- data_in_range$born
total_born_year <- as.numeric(substr(total_born_year, 1, 4))
avg_age <- round(sum(as.numeric(data_in_range$year) - total_born_year) /
length(total_born_year), 2)
extract_age <- function(given_category) {
new_data <- filter(data, category == given_category)
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics")
chemistry <- extract_age("chemistry")
economics <- extract_age("economics")
literature <- extract_age("literature")
medicine <- extract_age("medicine")
peace <- extract_age("peace")
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
add_lines(y = avg_age) %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <-
read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1901, 1980))
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
data_in_range <- filter(data, born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
total_born_year <- data_in_range$born
total_born_year <- as.numeric(substr(total_born_year, 1, 4))
avg_age <- round(sum(as.numeric(data_in_range$year) - total_born_year) /
length(total_born_year), 2)
extract_age <- function(given_category) {
new_data <- filter(data, category == given_category)
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics")
chemistry <- extract_age("chemistry")
economics <- extract_age("economics")
literature <- extract_age("literature")
medicine <- extract_age("medicine")
peace <- extract_age("peace")
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
add_lines(x = 0, y = avg_age) %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <-
read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1901, 1980))
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
data_in_range <- filter(data, born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
total_born_year <- data_in_range$born
total_born_year <- as.numeric(substr(total_born_year, 1, 4))
avg_age <- round(sum(as.numeric(data_in_range$year) - total_born_year) /
length(total_born_year), 2)
extract_age <- function(given_category) {
new_data <- filter(data_in_range, category == given_category)
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics")
chemistry <- extract_age("chemistry")
economics <- extract_age("economics")
literature <- extract_age("literature")
medicine <- extract_age("medicine")
peace <- extract_age("peace")
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
add_lines(x = 0, y = avg_age) %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <-
read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1901, 1980))
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
data_in_range <- filter(data, born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
total_born_year <- data_in_range$born
total_born_year <- as.numeric(substr(total_born_year, 1, 4))
avg_age <- sum(as.numeric(data_in_range$year)) - total_born_year
extract_age <- function(given_category) {
new_data <- filter(data_in_range, category == given_category)
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics")
chemistry <- extract_age("chemistry")
economics <- extract_age("economics")
literature <- extract_age("literature")
medicine <- extract_age("medicine")
peace <- extract_age("peace")
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
add_boxplot(y = avg_age, name = "total") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
add_boxplot(y = avg_age, name = "total") %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <-
read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1901, 1980))
# Build a box plot for average age by categories
build_boxplot <- function (data, given_range) {
categories <- c("chemistry", "economics", "literature", "medicine", "peace",
"physics")
data_in_range <- filter(data, born != "0000-00-00" & year >= given_range[1] &
year <= given_range[2])
total_born_year <- data_in_range$born
total_born_year <- as.numeric(substr(total_born_year, 1, 4))
avg_age <- as.numeric(data_in_range$year) - total_born_year
extract_age <- function(given_category) {
new_data <- filter(data_in_range, category == given_category)
born_year <- new_data$born
born_year <- as.numeric(substr(born_year, 1, 4))
prize_year <- as.numeric(new_data$year)
age <- prize_year - born_year
return(age)
}
physics <- extract_age("physics")
chemistry <- extract_age("chemistry")
economics <- extract_age("economics")
literature <- extract_age("literature")
medicine <- extract_age("medicine")
peace <- extract_age("peace")
if (length(economics) == 0) {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
add_boxplot(y = avg_age, name = "total") %>%
layout(title = "Age Distribution by Prize Categories")
} else {
boxplot <- plot_ly(type = "box") %>%
add_boxplot(y = physics, name = "physics") %>%
add_boxplot(y = chemistry, name = "chemistry") %>%
add_boxplot(y = economics, name = "economics") %>%
add_boxplot(y = literature, name = "literature") %>%
add_boxplot(y = medicine, name = "medicine") %>%
add_boxplot(y = peace, name = "peace") %>%
add_boxplot(y = avg_age, name = "total") %>%
layout(title = "Age Distribution by Prize Categories")
}
return(boxplot)
}
# Test the function out
data <-
read.csv("/Users/YixinXu/Desktop/INFO201/Nobel-Prize-BD1/data/laureate.csv")
build_boxplot(data, c(1901, 1980))
